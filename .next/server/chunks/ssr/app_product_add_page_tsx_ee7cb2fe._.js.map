{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/crm%20%282%29/crm/app/product/add/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { FaChevronRight } from 'react-icons/fa';\r\n\r\n// Breadcrumb Component\r\nconst Breadcrumb = () => {\r\n  const pathname = usePathname();\r\n\r\n  const breadcrumbItems = [\r\n    { label: 'All', href: '/product/' },\r\n  ];\r\n\r\n  if (pathname === '/product/add' || pathname === '/product/add/') {\r\n    breadcrumbItems.push({ label: 'Form', href: '/product/add/' });\r\n  }\r\n\r\n  return (\r\n    <nav className=\"flex items-center space-x-2 text-sm text-gray-600\">\r\n      {breadcrumbItems.map((item, index) => (\r\n        <div key={index} className=\"flex items-center\">\r\n          {index > 0 && (\r\n            <FaChevronRight className=\"mx-2 text-gray-400\" size={12} />\r\n          )}\r\n          <Link\r\n            href={item.href}\r\n            className=\"text-blue-600 hover:text-blue-800 transition-colors\"\r\n          >\r\n            {item.label}\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default function ProductFormPage() {\r\n  const router = useRouter();\r\n  const [form, setForm] = useState({\r\n    product_name: '',\r\n    product_code: '',\r\n    product_short_name: '',\r\n    product_type: '',\r\n    product_model_number: '',\r\n    product_uom: '',\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [successMsg, setSuccessMsg] = useState('');\r\n\r\n  const handleChange = (\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setErrorMsg('');\r\n    setSuccessMsg('');\r\n\r\n    try {\r\n      const res = await fetch('/api/product/add', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(form),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        throw new Error(data.message || 'Failed to add product');\r\n      }\r\n\r\n      setSuccessMsg('Product added successfully!');\r\n      setForm({\r\n        product_name: '',\r\n        product_code: '',\r\n        product_short_name: '',\r\n        product_type: '',\r\n        product_model_number: '',\r\n        product_uom: '',\r\n      });\r\n\r\n      setTimeout(() => router.push('/product/add'), 1500);\r\n    } catch (error: unknown) {\r\n      if (error instanceof Error) {\r\n        setErrorMsg(error.message);\r\n      } else {\r\n        setErrorMsg(String(error));\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto px-8 py-10\">\r\n      <div className=\"flex justify-between items-start mb-6\">\r\n        <Breadcrumb />\r\n      </div>\r\n\r\n      <div className=\"p-8 rounded shadow\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">Add Product</h1>\r\n\r\n        {errorMsg && <p className=\"text-red-600 mb-4\">{errorMsg}</p>}\r\n        {successMsg && <p className=\"text-green-600 mb-4\">{successMsg}</p>}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {/* Row 1: Product Name & Product Code */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-medium\">Product Name</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"product_name\"\r\n                value={form.product_name}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"w-full border p-2 rounded\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block font-medium\">Product Code</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"product_code\"\r\n                value={form.product_code}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"w-full border p-2 rounded\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Row 2: Short Name & Product Type */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-medium\">Short Name</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"product_short_name\"\r\n                value={form.product_short_name}\r\n                onChange={handleChange}\r\n                className=\"w-full border p-2 rounded\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block font-medium\">Product Type</label>\r\n              <select\r\n                name=\"product_type\"\r\n                value={form.product_type}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"w-full border p-2 rounded\"\r\n              >\r\n                <option value=\"\">Select Type</option>\r\n                <option value=\"trading\">Trading</option>\r\n                <option value=\"manufacturing\">Manufacturing</option>\r\n                <option value=\"service\">Service</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Row 3: Model Number & UOM */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-medium\">Model Number</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"product_model_number\"\r\n                value={form.product_model_number}\r\n                onChange={handleChange}\r\n                className=\"w-full border p-2 rounded\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n  <label className=\"block font-medium mb-1\">UOM</label>\r\n  <select\r\n    name=\"product_uom\"\r\n    value={form.product_uom}\r\n    onChange={handleChange}\r\n    className=\"w-full border p-2 rounded\"\r\n  >\r\n    <option value=\"\">Select UOM</option>\r\n    <option value=\"kg\">Kilogram (kg)</option>\r\n    <option value=\"g\">Gram (g)</option>\r\n    <option value=\"ltr\">Liter (ltr)</option>\r\n    <option value=\"pcs\">Pieces (pcs)</option>\r\n    <option value=\"m\">Meter (m)</option>\r\n    <option value=\"s\">Sets (s)</option>\r\n    {/* Add more options as needed */}\r\n  </select>\r\n</div>\r\n          </div>\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex gap-4\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"flex-1 bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:bg-blue-400\"\r\n            >\r\n              {loading ? 'Submitting...' : 'Submit'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              disabled={loading}\r\n              onClick={() => router.push('/product')}\r\n              className=\"flex-1 bg-gray-300 text-gray-800 p-2 rounded hover:bg-gray-400 disabled:bg-gray-200\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,uBAAuB;AACvB,MAAM,aAAa;IACjB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,kBAAkB;QACtB;YAAE,OAAO;YAAO,MAAM;QAAY;KACnC;IAED,IAAI,aAAa,kBAAkB,aAAa,iBAAiB;QAC/D,gBAAgB,IAAI,CAAC;YAAE,OAAO;YAAQ,MAAM;QAAgB;IAC9D;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,gBAAgB,GAAG,CAAC,CAAC,MAAM,sBAC1B,8OAAC;gBAAgB,WAAU;;oBACxB,QAAQ,mBACP,8OAAC,8IAAA,CAAA,iBAAc;wBAAC,WAAU;wBAAqB,MAAM;;;;;;kCAEvD,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAM,KAAK,IAAI;wBACf,WAAU;kCAET,KAAK,KAAK;;;;;;;eARL;;;;;;;;;;AAclB;AAEe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B,cAAc;QACd,cAAc;QACd,oBAAoB;QACpB,cAAc;QACd,sBAAsB;QACtB,aAAa;IACf;IAEA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,eAAe,CACnB;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,QAAQ,CAAC,OAAS,CAAC;gBACjB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,YAAY;QACZ,cAAc;QAEd,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,oBAAoB;gBAC1C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;YAClC;YAEA,cAAc;YACd,QAAQ;gBACN,cAAc;gBACd,cAAc;gBACd,oBAAoB;gBACpB,cAAc;gBACd,sBAAsB;gBACtB,aAAa;YACf;YAEA,WAAW,IAAM,OAAO,IAAI,CAAC,iBAAiB;QAChD,EAAE,OAAO,OAAgB;YACvB,IAAI,iBAAiB,OAAO;gBAC1B,YAAY,MAAM,OAAO;YAC3B,OAAO;gBACL,YAAY,OAAO;YACrB;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;;;;;;;;;;0BAGH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;oBAEvC,0BAAY,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;oBAC9C,4BAAc,8OAAC;wBAAE,WAAU;kCAAuB;;;;;;kCAEnD,8OAAC;wBAAK,UAAU;wBAAc,WAAU;;0CAEtC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAoB;;;;;;0DACrC,8OAAC;gDACC,MAAK;gDACL,MAAK;gDACL,OAAO,KAAK,YAAY;gDACxB,UAAU;gDACV,QAAQ;gDACR,WAAU;;;;;;;;;;;;kDAId,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAoB;;;;;;0DACrC,8OAAC;gDACC,MAAK;gDACL,MAAK;gDACL,OAAO,KAAK,YAAY;gDACxB,UAAU;gDACV,QAAQ;gDACR,WAAU;;;;;;;;;;;;;;;;;;0CAMhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAoB;;;;;;0DACrC,8OAAC;gDACC,MAAK;gDACL,MAAK;gDACL,OAAO,KAAK,kBAAkB;gDAC9B,UAAU;gDACV,WAAU;;;;;;;;;;;;kDAId,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAoB;;;;;;0DACrC,8OAAC;gDACC,MAAK;gDACL,OAAO,KAAK,YAAY;gDACxB,UAAU;gDACV,QAAQ;gDACR,WAAU;;kEAEV,8OAAC;wDAAO,OAAM;kEAAG;;;;;;kEACjB,8OAAC;wDAAO,OAAM;kEAAU;;;;;;kEACxB,8OAAC;wDAAO,OAAM;kEAAgB;;;;;;kEAC9B,8OAAC;wDAAO,OAAM;kEAAU;;;;;;;;;;;;;;;;;;;;;;;;0CAM9B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAoB;;;;;;0DACrC,8OAAC;gDACC,MAAK;gDACL,MAAK;gDACL,OAAO,KAAK,oBAAoB;gDAChC,UAAU;gDACV,WAAU;;;;;;;;;;;;kDAId,8OAAC;;0DACX,8OAAC;gDAAM,WAAU;0DAAyB;;;;;;0DAC1C,8OAAC;gDACC,MAAK;gDACL,OAAO,KAAK,WAAW;gDACvB,UAAU;gDACV,WAAU;;kEAEV,8OAAC;wDAAO,OAAM;kEAAG;;;;;;kEACjB,8OAAC;wDAAO,OAAM;kEAAK;;;;;;kEACnB,8OAAC;wDAAO,OAAM;kEAAI;;;;;;kEAClB,8OAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,8OAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,8OAAC;wDAAO,OAAM;kEAAI;;;;;;kEAClB,8OAAC;wDAAO,OAAM;kEAAI;;;;;;;;;;;;;;;;;;;;;;;;0CAOZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,MAAK;wCACL,UAAU;wCACV,WAAU;kDAET,UAAU,kBAAkB;;;;;;kDAE/B,8OAAC;wCACC,MAAK;wCACL,UAAU;wCACV,SAAS,IAAM,OAAO,IAAI,CAAC;wCAC3B,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}}]
}